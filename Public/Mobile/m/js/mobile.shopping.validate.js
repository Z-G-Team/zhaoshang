(function(n){var t=n.shopping.validate={},i={errTemp:'<label class="error" style="display: block;">{0}<\/label>'};jQuery.extend(n.shopping.validate,{ValidateNumber:function(n){var i="请输入 "+n.attr("id")+" 栏位值（整数)!",t=$.trim(n.val());if(t!=""&&/^\d+$/.test(t))if(n.attr("id")=="顏色數量"&&(parseInt(t)>99||parseInt(t)<1))i="输入的值必须介于1到99之间 !";else if(n.attr("id")=="尺寸數量"&&(parseInt(t)>20||parseInt(t)<1))i="输入的值必须介于1到20之间 !";else return n.css("background-color",""),!0;return n.css("background-color","#ffcccc"),Mobile.common.showAlertMessage(i),!1},ValidateLength:function(n,t){var i=$.trim(n.val());return i.length>t?(Mobile.common.showAlertMessage("输入的字元超过"+t+"个字"),!1):!0},validateOriginalField:function(){var n=!0,t=$.validator.defaults.errorClass;return $("."+t).removeClass(t),$.each($("input[original]"),function(t,i){var r=$(i),u;r.val()!=r.attr("original")&&(r.attr("_type").indexOf("name")>-1&&!$.validator.methods.specialsymbols(r.val(),r,null)?n=!1:r.attr("_type").indexOf("address")>-1&&r.val().indexOf("*")>-1&&(n=!1),n||(u=[],u.push({Key:r.attr("name"),Value:r.attr("desc")+"请勿输入特殊符号！"}),Mobile.common.showCustomVaildate(u)))}),n},CheckEffectiveDate:function(n,t){var i,r,u;return($("label.error[for=check_exp]").html(""),$("label.error[for=check_exp]").css("display","none"),i=Date.parse((new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/01"),t!=undefined&&(i=t),r=["01"],$.each(n,function(n,t){r.push($(t).val())}),u=Date.parse(r.reverse().join("/")),u<i)?($("label.error[for=check_exp]").html("信用卡有效日期可能有误！"),$("label.error[for=check_exp]").css("display","block"),!1):!0},checkTitle:function(n){var r=!0,u=$('input[name="'+n+'"]:radio:checked'),i;return u.length<=0&&(r=!1,$(".radio").unbind("change").change(function(){t.checkTitle(n)}),i=[],i.push({Key:n,Value:"请点选性别！"}),Mobile.common.showCustomVaildate(i)),r},checkRTitle:function(n){var u=$("input[name = "+n+"]:radio:checked"),r=!1;return $("#radioRError").nextAll("span").remove(".checkRTitle"),u.val()==null?($("#radioRError").after($.format(i.errTemp,"您尚未选择收件人性别")),r=!1,$(".receiverradio").unbind("change"),$(".receiverradio").change(function(){t.checkTitle(n)})):($("#radioRError").nextAll("span").remove(".checkRTitle"),r=!0),r},CheckInfo:function(n,t){var i=$("#"+n),r=n;return r.indexOf("付款人")!=-1&&(r=r.replace("付款人","訂購人")),i.val()==""?($("label[for="+n+"]").text("您尚未输入"+r).css("display","block"),i.unbind("keyup"),i.keyup(function(){Mobile.shopping.validate.CheckInfo(n,t)}),!1):t||/^[a-zA-Z0-9\s()\x27#._,／＼\/-]+$/.test(i.val())?($("label[for="+n+"]").css("display","none"),!0):($("label[for="+n+"]").text("请输入英文").css("display","block"),i.unbind("keyup"),i.keyup(function(){Mobile.shopping.validate.CheckInfo(n,t)}),!1)}})})(Mobile)